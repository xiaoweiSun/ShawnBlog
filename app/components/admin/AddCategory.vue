<template>
	<div>
		名称：
		<input v-model="name" placeholder="分类名称">
		<button @click="addCategory()">确定</button>
	</div>
</template>

<script>
	export default {
		data() {
			return {
				name: ''
			}
		},
		mounted: function() {
			if(!this.$session.get('jwt')) {
      	this.$router.push('/')
			}
		},
		methods: {
			addCategory: function() {
				let categoryInformation = {
					name: this.name,
					count: 0
				}
				this.$http.post('/api/admin/category/save', {
          categoryInformation: categoryInformation
        }).then(
          response => this.$router.push('/'),
    			response => console.log(response)
        )
			}
		}
	}
</script>